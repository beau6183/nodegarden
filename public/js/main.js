"use strict";!function(){function t(){n=window.innerWidth*r,o=window.innerHeight*r,e=n*o,h.length=0|Math.sqrt(e),m.width=n,m.height=o;var t,a;for(t=0,a=h.length;a>t;t++)h[t]||(h[t]={x:Math.random()*n,y:Math.random()*o,vx:1*Math.random()-.5,vy:1*Math.random()-.5,m:10})}function a(){var t,e,r,m,d,M,y,l,x,v,s,w,c,g,f;for(requestAnimationFrame(a),i.clearRect(0,0,n,o),x=0,c=h.length-1;c>x;x++)for(v=x+1;c+1>v;v++)s=h[x],w=h[v],g=Math.pow(3*s.m/(4*Math.PI),1/3),f=Math.pow(3*w.m/(4*Math.PI),1/3),M=w.x-s.x,y=w.y-s.y,t=Math.sqrt(Math.pow(M,2)+Math.pow(y,2)),g+f>t?(s.m<=w.m&&(s.x=Math.random()*n,s.y=Math.random()*o,s.vx=1*Math.random()-.5,s.vy=1*Math.random()-.5,w.m+=s.m,console.log("Annihilation A->B",w.m),f=Math.pow(3*w.m/(4*Math.PI),1/3),s.m=10),w.m<=s.m&&(w.x=Math.random()*n,w.y=Math.random()*o,w.vx=1*Math.random()-.5,w.vy=1*Math.random()-.5,s.m+=w.m,g=Math.pow(3*s.m/(4*Math.PI),1/3),console.log("Annihilation B->A",s.m),w.m=10)):(l=2*(g+f),t>l||(e={x:M/t,y:y/t},r=s.m*w.m/Math.pow(t,2),r>.025&&(r=.025),i.beginPath(),i.strokeStyle="rgba(0,0,255,"+40*r+")",i.moveTo(s.x,s.y),i.lineTo(w.x,w.y),i.stroke(),m=r*e.x,d=r*e.y,s.vx+=m,s.vy+=d,w.vx-=m,w.vy-=d));for(x=0,c=h.length;c>x;x++)i.beginPath(),i.fillStyle="rgba("+Math.min(255,h[x].m/5)+", 0, 0, 1)",i.arc(h[x].x,h[x].y,Math.pow(3*h[x].m/(4*Math.PI),1/3),0,2*Math.PI),i.fill(),h[x].x+=h[x].vx,h[x].y+=h[x].vy,(h[x].x>n+25||h[x].x<-25||h[x].y>o+25||h[x].y<-25)&&(h[x].x=Math.random()*n,h[x].y=Math.random()*o,h[x].vx=1*Math.random()-.5,h[x].vy=1*Math.random()-.5,h[x].m=10)}var n,o,e,r=window.devicePixelRatio,h=new Array(Math.sqrt(e)/10|0),m=document.createElement("canvas"),i=m.getContext("2d"),d=document.getElementById("container");1!==r&&(m.style.transform="scale("+1/r+")",m.style.transformOrigin="0 0"),m.id="nodegarden",d.appendChild(m),t(),a(),window.addEventListener("resize",t)}();