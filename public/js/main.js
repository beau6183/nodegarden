"use strict";!function(){function t(t){function a(t){var a=Math.pow(3*t.m/(4*Math.PI),1/3),m={x:t.x-a,y:t.y-a,w:2*a,h:2*a};return n.x>=m.x&&n.x<=m.x+m.w&&n.y>=m.y&&n.y<=m.y+m.h}var n={x:h*t.clientX,y:h*t.clientY};o.some(function(t){return a(t)?(t.m*=2,!0):!1})}function a(){e=window.innerWidth*h,r=window.innerHeight*h,v=e*r,o.length=0|Math.sqrt(v/72),y.width=e,y.height=r;var t,a;for(t=0,a=o.length;a>t;t++)o[t]||(o[t]={x:Math.random()*e,y:Math.random()*r,vx:1*Math.random()-.5,vy:1*Math.random()-.5,m:i})}function n(){var t,a,v,h,y,d,l,c,w,f,s,u,g,p,P,I,b;for(requestAnimationFrame(n),x.fillStyle="rgba(255, 255, 255, 0.1)",x.fillRect(0,0,e,r),c=0,g=o.length-1;g>c;c++)for(w=c+1;g+1>w;w++)f=o[c],s=o[w],p=Math.pow(3*f.m/(4*Math.PI),1/3),P=Math.pow(3*s.m/(4*Math.PI),1/3),d=s.x-f.x,l=s.y-f.y,t=Math.sqrt(Math.pow(d,2)+Math.pow(l,2)),p+P>t?(f.m<=s.m&&(f.x=Math.random()*e,f.y=Math.random()*r,s.vx+=f.vx*(f.m/s.m),s.vy+=f.vy*(f.m/s.m),f.vx=1*Math.random()-.5,f.vy=1*Math.random()-.5,s.m+=f.m,s.m>M&&(s.m=i),P=Math.pow(3*s.m/(4*Math.PI),1/3),f.m=i),s.m<=f.m&&(s.x=Math.random()*e,s.y=Math.random()*r,f.vx+=s.vx*(s.m/f.m),f.vy+=s.vy*(s.m/f.m),s.vx=1*Math.random()-.5,s.vy=1*Math.random()-.5,f.m+=s.m,f.m>M&&(f.m=i),p=Math.pow(3*f.m/(4*Math.PI),1/3),s.m=i)):(a={x:d/t,y:l/t},v=667408e-10*(f.m*s.m/Math.pow(t,2)),isNaN(v)||(h=v*a.x,y=v*a.y,f.vx+=s.m/f.m*h,f.vy+=s.m/f.m*y,s.vx-=f.m/s.m*h,s.vy-=f.m/s.m*y));for(c=0,g=o.length;g>c;c++)u=o[c],x.beginPath(),x.fillStyle="rgba("+Math.floor(255*(u.m/M))+", 0, 0, 1)",x.arc(u.x,u.y,Math.pow(3*u.m/(4*Math.PI),1/3),0,2*Math.PI),x.fill(),u.x+=u.vx,u.y+=u.vy,u.x<=0?(I=m(u.vx,u.vy,!0),b=1-.5*I,u.x=0,u.vx*=-b,u.vy*=b,u.y+=u.vy):u.x>=e&&(I=m(u.vx,u.vy,!0),b=1-.5*I,u.x=e,u.vx*=-b,u.vy*=b,u.y+=u.vy),u.y<=0?(I=m(u.vx,u.vy,!1),b=1-.5*I,u.y=0,u.vy*=-b,u.vx*=b,u.x+=u.vx):u.y>=r&&(I=m(u.vx,u.vy,!1),b=1-.5*I,u.y=r,u.vy*=-b,u.vx*=b,u.x+=u.vx)}function m(t,a,n){var m=Math.abs(Math.atan(a/t))*(180/Math.PI);return n&&(m=90-m),m/90}var e,r,v,h=window.devicePixelRatio,o=new Array(Math.sqrt(v)/10|0),y=document.createElement("canvas"),x=y.getContext("2d"),i=10,M=1e4,d=document.getElementById("container");d.addEventListener("click",t),1!==h&&(y.style.transform="scale("+1/h+")",y.style.transformOrigin="0 0"),y.id="nodegarden",d.appendChild(y),a(),n(),window.addEventListener("resize",a)}();