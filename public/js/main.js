"use strict";!function(){function t(){n=window.innerWidth*o,e=window.innerHeight*o,r=n*e,v.length=0|Math.sqrt(r/72),h.width=n,h.height=e;var t,a;for(t=0,a=v.length;a>t;t++)v[t]||(v[t]={x:Math.random()*n,y:Math.random()*e,vx:1*Math.random()-.5,vy:1*Math.random()-.5,m:x})}function a(){var t,r,o,h,M,d,l,s,w,c,g,f,p,P,u,I,b;for(requestAnimationFrame(a),y.clearRect(0,0,n,e),s=0,p=v.length-1;p>s;s++)for(w=s+1;p+1>w;w++)c=v[s],g=v[w],P=Math.pow(3*c.m/(4*Math.PI),1/3),u=Math.pow(3*g.m/(4*Math.PI),1/3),d=g.x-c.x,l=g.y-c.y,t=Math.sqrt(Math.pow(d,2)+Math.pow(l,2)),P+u>t?(c.m<=g.m&&(c.x=Math.random()*n,c.y=Math.random()*e,g.vx+=c.vx*(c.m/g.m),g.vy+=c.vy*(c.m/g.m),c.vx=1*Math.random()-.5,c.vy=1*Math.random()-.5,g.m+=c.m,g.m>i&&(g.m=x),u=Math.pow(3*g.m/(4*Math.PI),1/3),c.m=x),g.m<=c.m&&(g.x=Math.random()*n,g.y=Math.random()*e,c.vx+=g.vx*(g.m/c.m),c.vy+=g.vy*(g.m/c.m),g.vx=1*Math.random()-.5,g.vy=1*Math.random()-.5,c.m+=g.m,c.m>i&&(c.m=x),P=Math.pow(3*c.m/(4*Math.PI),1/3),g.m=x)):(r={x:d/t,y:l/t},o=6e-4*(c.m*g.m)/Math.pow(t,2),isNaN(o)||2.5e-12>o||(o>.025&&(o=.025),40*o>=.01&&(y.beginPath(),y.strokeStyle="rgba(0,0,255,"+40*o+")",y.moveTo(c.x,c.y),y.lineTo(g.x,g.y),y.stroke()),h=o*r.x,M=o*r.y,c.vx+=g.m/c.m*h,c.vy+=g.m/c.m*M,g.vx-=c.m/g.m*h,g.vy-=c.m/g.m*M));for(s=0,p=v.length;p>s;s++)f=v[s],y.beginPath(),y.fillStyle="rgba("+Math.floor(255*(f.m/i))+", 0, 0, 1)",y.arc(f.x,f.y,Math.pow(3*f.m/(4*Math.PI),1/3),0,2*Math.PI),y.fill(),f.x+=f.vx,f.y+=f.vy,f.x<=0?(I=m(f.vx,f.vy,!0),b=1-.5*I,f.x=0,f.vx*=-b,f.vy*=b,f.y+=f.vy):f.x>=n&&(I=m(f.vx,f.vy,!0),b=1-.5*I,f.x=n,f.vx*=-b,f.vy*=b,f.y+=f.vy),f.y<=0?(I=m(f.vx,f.vy,!1),b=1-.5*I,f.y=0,f.vy*=-b,f.vx*=b,f.x+=f.vx):f.y>=e&&(I=m(f.vx,f.vy,!1),b=1-.5*I,f.y=e,f.vy*=-b,f.vx*=b,f.x+=f.vx)}function m(t,a,m){var n=Math.abs(Math.atan(a/t))*(180/Math.PI);return m&&(n=90-n),n/90}var n,e,r,o=window.devicePixelRatio,v=new Array(Math.sqrt(r)/10|0),h=document.createElement("canvas"),y=h.getContext("2d"),x=10,i=1e4,M=document.getElementById("container");1!==o&&(h.style.transform="scale("+1/o+")",h.style.transformOrigin="0 0"),h.id="nodegarden",M.appendChild(h),t(),a(),window.addEventListener("resize",t)}();